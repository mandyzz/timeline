<div class="timeline-section custom-timeline-imba">
  <div class="timeline-years" role="tablist" aria-label="Anos da jornada">
    <button class="year-btn active" data-year="2023">2023</button>
    <button class="year-btn" data-year="2022">2022</button>
    <button class="year-btn" data-year="2021">2021</button>
    <button class="year-btn" data-year="2020">2020</button>
    <button class="year-btn" data-year="2019">2019</button>
    <button class="year-btn" data-year="2018">2018</button>
    <button class="year-btn" data-year="2017">2017</button>
    <button class="year-btn" data-year="2016">2016</button>
    <button class="year-btn" data-year="2015">2015</button>
    <button class="year-btn" data-year="2014">2014</button>
    <button class="year-btn" data-year="2013">2013</button>
    <button class="year-btn" data-year="2012">2012</button>
    <button class="year-btn" data-year="2011">2011</button>
    <button class="year-btn" data-year="2010">2010</button>
    <button class="year-btn" data-year="2008">2008</button>
    <button class="year-btn" data-year="2003">2003</button>
    <button class="year-btn" data-year="1996">1996</button>
    <button class="year-btn" data-year="1966">1966</button>
    <button class="year-btn" data-year="1937">1937</button>
    <button class="year-btn" data-year="1893">1893</button>
  </div>

  <div class="timeline-grid">
    <div class="timeline-left">
      <div class="year-box" data-year="2023">
        <h3 class="year-head">2023</h3>
        <p>2º Prêmio Internacional com Hexabag+. Nova versão do saco com alta barreira a gases, odores e umidade.</p>
      </div>

      <div class="year-box" data-year="2022" hidden>
        <h3 class="year-head">2022</h3>
        <p>Recertificação na norma BRCGS Packaging Issue 6, Segurança do Produto, obtendo nota AA.</p>
      </div>
      <div class="year-box" data-year="2021" hidden>
        <h3 class="year-head">2021</h3>
        <p>Certificação na norma BRCGS Packaging Issue 6, Segurança do Produto para atender às crescentes demandas das indústrias alimentícia e farmacêutica.</p>
      </div>
      <div class="year-box" data-year="2020" hidden>
        <h3 class="year-head">2020</h3>
        <p>Início do projeto Imballaggio 4.0. Automatização de processos com aquisição de novos equipamentos.</p>
      </div>
      <div class="year-box" data-year="2019" hidden>
        <h3 class="year-head">2019</h3>
        <p>Expansão da fábrica com a criação de áreas de produção segundo o conceito de sala limpa.</p>
      </div>
      <div class="year-box" data-year="2018" hidden>
        <h3 class="year-head">2018</h3>
        <p>Certificação em Gestão da Qualidade na ISO 9001:2015.</p>
      </div>
      <div class="year-box" data-year="2017" hidden>
        <h3 class="year-head">2017</h3>
        <p>Reconhecimento internacional do saco Hexabag com prêmio WPO – World Packaging Organization.</p>
      </div>
      <div class="year-box" data-year="2016" hidden>
        <h3 class="year-head">2016</h3>
        <p>Prêmio ABRE 2016 com o saco Hexabag. Saco com máxima proteção e barreira a gases, odores e umidade.</p>
      </div>
      <div class="year-box" data-year="2015" hidden>
        <h3 class="year-head">2015</h3>
        <p>Início do processo de internacionalização da empresa. Primeiras exportações feitas para países sul-americanos.</p>
      </div>
      <div class="year-box" data-year="2014" hidden>
        <h3 class="year-head">2014</h3>
        <p>Prêmio ABRE 2014 com o saco Valvebag-Strip. Saco para ambientes de sala limpa. Patente solicitada.</p>
      </div>
      <div class="year-box" data-year="2013" hidden>
        <h3 class="year-head">2013</h3>
        <p>Certificação em Boas Práticas de Gestão Empresarial. Possui 4 pilares de avaliação: saúde e segurança do trabalhador; normas trabalhistas; ambiente; ética nos negócios.</p>
      </div>
      <div class="year-box" data-year="2012" hidden>
        <h3 class="year-head">2012</h3>
        <p>Certificação em Gestão da Qualidade na ISO 9001:2008.</p>
      </div>
      <div class="year-box" data-year="2011" hidden>
        <h3 class="year-head">2011</h3>
        <p>Certificação de produtos com o selo FSC®. Selo que identifica que o papel utilizado nas nossas embalagens provém de uma área de gestão sustentável.</p>
      </div>
      <div class="year-box" data-year="2010" hidden>
        <h3 class="year-head">2010</h3>
        <p>Inauguração da nova sede no CIP – Condomínio Industrial do Papel em Lagoa Santa, Minas Gerais..</p>
      </div>
      <div class="year-box" data-year="2008" hidden>
        <h3 class="year-head">2008</h3>
        <p>Início das obras das novas instalações em Lagoa Santa, Minas Gerais. Fábrica projetada para atender as demandas dos setores alimentício e farmacêutico.</p>
      </div>
      <div class="year-box" data-year="2003" hidden>
        <h3 class="year-head">2003</h3>
        <p>Conquista do Prêmio ABFlexo-FTA de melhor impressão flexográfica com a embalagem Café 3 Corações.</p>
      </div>
      <div class="year-box" data-year="1996" hidden>
        <h3 class="year-head">1996</h3>
        <p>Parceria com fornecedores internacionais para matéria-prima de alta qualidade.</p>
      </div>
      <div class="year-box" data-year="1966" hidden>
        <h3 class="year-head">1966</h3>
        <p>Com a industrialização do Brasil do pós-guerra, surgiram as primeiras máquinas para saco de papel.</p>
      </div>
      <div class="year-box" data-year="1937" hidden>
        <h3 class="year-head">1937</h3>
        <p>>Nos primeiros anos do século XX, surgiram os primeiros dispositivos mecânicos para auxiliar na impressão e fabricação de artefatos de papel.Foco em soluções de sacos para o agronegócio, incluindo fertilizantes e sementes.</p>
      </div>
      <div class="year-box" data-year="1893" hidden>
        <h3 class="year-head">1893</h3>
        <p>Fundada na Praça da Sé, São Paulo, com o nome de Fábrica de Sacos São José. Foi a primeira fábrica de artefatos de papel da América Latina, produzindo sacolas de papel manualmente.</p>
      </div>
    </div>

    <div class="timeline-right">
      <img class="timeline-image" src="" alt="Imagem da história da empresa no ano atual">
    </div>
  </div>

  <div class="timeline-controls-row">
    <div class="controls-left">
      <p class="timeline-note">Navegue pelas setas ou clique nos anos para </br>conhecer nossa história</p>
    </div>

    <div class="controls-center">
      <button class="arrow-square arrow-left" id="prev-year" aria-label="Anterior"></button>
      <button class="arrow-square arrow-right" id="next-year" aria-label="Próximo"></button>
    </div>

    <div class="controls-right">
      <div class="counter"><span id="current-slide">001</span>/<span id="total-slide">020</span></div>
    </div>
  </div>

</div>

<style>
/* FONTE HEEBO */
@import url('https://fonts.googleapis.com/css2?family=Heebo:wght@100..900&display=swap');

/* AUMENTANDO ESPECIFICIDADE E NEUTRALIZANDO TEMAS */
.custom-timeline-imba.timeline-section {
  font-family: 'Heebo', sans-serif !important; 
  max-width: 1200px !important;
  margin: 0 auto !important;
  padding: 10px 20px 36px !important;
  color: #22343f !important;
  box-sizing: border-box !important;
  background: #f7f7f7 !important; 
}

p {
    margin: 10px 0 0 0 !important;
  color:#29414a !important; 
  line-height:1.5 !important;
  font-size:14px !important;
}


/* Linha de anos - SCROLL CONFIGURADO */
.custom-timeline-imba .timeline-years {
  display: flex !important;
  gap: 8px !important; 
  justify-content: flex-start !important; 
  flex-wrap: nowrap !important; 
  margin-bottom: 22px !important;
  overflow-x: auto !important; 
  padding-bottom: 10px !important; 
  
  /* OCULTANDO BARRA DE SCROLL: */
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}
/* OCULTANDO BARRA DE SCROLL: WebKit (Chrome, Safari) */
.custom-timeline-imba .timeline-years::-webkit-scrollbar {
  display: none;
  width: 0;
  height: 0;
}


.custom-timeline-imba .year-btn {
  background:transparent !important;
  border:none !important;
  padding:6px 10px !important; 
  border-radius:8px !important;
  font-weight:600 !important;
  cursor:pointer !important;
  color:#163a4f !important;
  line-height: 1 !important; 
  box-shadow: none !important;
  outline: none !important;
  flex-shrink: 0 !important; 
  font-size: 18px !important; 
  font-weight: 9400;
}

.custom-timeline-imba .year-btn.active {
  background:#0a3a5e !important;
  color:white !important;
}

/* GRID texto + imagem (Alinhamento) */
.custom-timeline-imba .timeline-grid {
  display:grid !important;
  grid-template-columns: 1fr 500px !important;
  gap:40px !important;
  align-items:center !important;
  max-width: 1200px !important;
  margin: 0 auto !important; 
}

.custom-timeline-imba .year-head {
  font-size:32px !important;
  color:#0a3a5e !important;
  margin:0 0 10px !important;
}

.custom-timeline-imba .year-box p {
  margin:0 !important;
  color:#29414a !important;
  line-height:1.5 !important;
  font-size:14px !important;
}

.custom-timeline-imba .timeline-image {
  width:100% !important;
  max-width:500px !important;
  border-radius:32px !important;
  object-fit:cover !important;
  box-shadow:0 6px 18px rgba(10,58,94,0.06) !important;
  display: block !important; 
}

/* CONTROLES (Alinhamento) */
.custom-timeline-imba .timeline-controls-row {
  display:grid !important;
  grid-template-columns: 1fr 160px 1fr !important;
  align-items:center !important;
  gap:12px !important;
  margin-top:24px !important;
  max-width: 1200px !important; 
  margin: 20px auto 0 !important; 
}

/* AJUSTE DO RÓTULO DE NAVEGAÇÃO */
.custom-timeline-imba .controls-left {
  text-align: left !important; 
  display: flex !important;
  justify-content: left !important;
  align-items: left !important;
  height: 100% !important;
}

.custom-timeline-imba .timeline-note {
  margin:0 !important;
  color:#7b8a92 !important;
  font-size:1rem !important; /* Fonte em 16px */
  line-height: 1.4 !important; 
}

/* SETAS CENTRALIZADAS */
.custom-timeline-imba .controls-center {
  display:flex !important;
  justify-content:center !important;
  gap:12px !important;
}

/* Imagem das setas */
:root {
  --arrows-img: url('https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/11/arrow.png');
}

.custom-timeline-imba .arrow-square {
  width:44px !important;
  height:36px !important;
  background-image: var(--arrows-img) !important;
  background-repeat:no-repeat !important;
  background-size:220% auto !important;
  border-radius:10px !important;
  cursor:pointer !important;
  padding:0 !important;
  border: none !important; 
  background-color: transparent !important; 
}

.custom-timeline-imba .arrow-left {
  background-position: 16% center !important;
}

.custom-timeline-imba .arrow-right {
  background-position: 84% center !important;
}

/* CONTADOR */
.custom-timeline-imba .controls-right {
  display:flex !important;
  justify-content:flex-end !important;
}

.custom-timeline-imba .counter {
  color:#7b8a92 !important;
  font-weight:700 !important;
  font-size:18px !important;
}

/* RESPONSIVO */
@media (max-width:1024px) {
  .custom-timeline-imba .timeline-grid { 
    grid-template-columns:1fr !important; 
    max-width: 100% !important;
    padding: 0 16px;
  }
  .custom-timeline-imba .timeline-right { order:-1 !important; }

  .custom-timeline-imba .timeline-controls-row {
    grid-template-columns:1fr 1fr !important;
    row-gap:12px !important;
    max-width: 100% !important;
    padding: 0 16px;
  }

  .custom-timeline-imba .controls-left { 
    grid-column: 1 / 3; 
    order: -1; 
  }
  .custom-timeline-imba .controls-center { justify-content:flex-start !important; }
  .custom-timeline-imba .controls-right { justify-content:flex-end !important; }
}

@media (max-width:600px) {
  .custom-timeline-imba .timeline-controls-row { grid-template-columns:1fr !important; }
  .custom-timeline-imba .controls-center { justify-content: center !important; }
  .custom-timeline-imba .controls-right { justify-content: center !important; }
  .custom-timeline-imba .timeline-note { text-align: center; }
  .custom-timeline-imba .counter { margin-top:6px !important; }
  .custom-timeline-imba .arrow-square { width:40px !important; height:34px !important; background-size:260% auto !important; }
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const years = [...document.querySelectorAll(".year-btn")];
  const boxes = [...document.querySelectorAll(".year-box")];
  const imgEl = document.querySelector(".timeline-image");

  const prevBtn = document.getElementById("prev-year");
  const nextBtn = document.getElementById("next-year");

  const currentSlideEl = document.getElementById("current-slide");
  const totalSlideEl = document.getElementById("total-slide");
  const timelineYears = document.querySelector(".timeline-years");

  // CORRIGIDO: Define o total de slides para 019
  totalSlideEl.textContent = "019"; 

  // Mapeamento de imagens (placeholder)
  const images = {
    "2023": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2023.jpeg",
    "2022": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2022.jpeg",
    "2021": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2021.jpeg",
    "2020": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2020.jpeg",
    "2019": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2019.jpegg",
    "2018": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2018.jpeg",
    "2017": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2017.jpeg",
    "2016": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2016.jpeg",
    "2015": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2015.jpeg",
    "2014": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2014.jpeg",
    "2013": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2013.jpeg",
    "2012": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2011.jpeg",
    "2011": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/WhatsApp-Image-2025-12-01-at-15.15.30.jpeg",
    "2010": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2010.jpeg",
    "2008": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2008.jpeg",
    "2003": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/2003.jpeg",
    "1996": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/1996.jpeg",
    "1966": "hhttps://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/1966.jpeg",
    "1937": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/1937.jpeg",
    "1893": "https://vps.salvedigital.com.br/~imba/wp-content/uploads/2025/12/1893.jpeg"
  };

  function activateYear(year) {
    years.forEach(btn => btn.classList.toggle("active", btn.dataset.year === year));
    boxes.forEach(box => box.hidden = box.dataset.year !== year); 

    imgEl.src = images[year];

    const index = years.findIndex(btn => btn.dataset.year === year) + 1;
    currentSlideEl.textContent = String(index).padStart(3, "0"); 
    
    // Rola o container para o botão ativo (clique nos anos)
    const activeBtn = document.querySelector(".year-btn.active");
    if (activeBtn) {
      const scrollPosition = activeBtn.offsetLeft - timelineYears.offsetWidth / 2 + activeBtn.offsetWidth / 2;
      timelineYears.scroll({ left: scrollPosition, behavior: 'smooth' });
    }
  }

  years.forEach(btn => btn.addEventListener("click", () => activateYear(btn.dataset.year)));

  // SCROLL MANUAL (Para rolar o painel de anos sem mudar o conteúdo)
  function scrollTimeline(direction) {
    const scrollAmount = 100 * direction;
    timelineYears.scroll({ left: timelineYears.scrollLeft + scrollAmount, behavior: 'smooth' });
  }

  const manualScrollLeft = document.querySelector('.controls-center .arrow-left');
  const manualScrollRight = document.querySelector('.controls-center .arrow-right');

  // Direções de Scroll Manual:
  manualScrollLeft.addEventListener('click', (e) => {
    e.preventDefault();
    scrollTimeline(-1); // Rola para a esquerda
  });

  manualScrollRight.addEventListener('click', (e) => {
    e.preventDefault();
    scrollTimeline(1); // Rola para a direita
  });
  
  // NAVEGAÇÃO ENTRE CONTEÚDOS (MUDANÇA DE ANO)
  // Agora as setas mudam o conteúdo, respeitando a ordem decrescente (2023 -> 1893)
  
  function navigateContent(dir) {
    const index = years.findIndex(btn => btn.classList.contains("active"));
    let newIndex = index + dir; 

    // Lógica de loop
    if (newIndex < 0) newIndex = years.length - 1;
    if (newIndex >= years.length) newIndex = 0;

    years[newIndex].click();
  }

  // A seta para a direita avança no tempo (vai para o índice maior = ano mais velho)
  nextBtn.addEventListener("click", (e) => {
      e.stopPropagation(); 
      navigateContent(1); 
  });

  // A seta para a esquerda retrocede no tempo (vai para o índice menor = ano mais novo)
  prevBtn.addEventListener("click", (e) => {
      e.stopPropagation();
      navigateContent(-1); 
  });

  activateYear("2023");
});
</script>